"use strict";(self.webpackChunkreact_ant_app=self.webpackChunkreact_ant_app||[]).push([[156],{3156:function(e,a,r){r.r(a),r.d(a,{default:function(){return L}});var n=r(4165),s=r(3433),t=r(1413),i=r(5861),o=r(9439),d=r(2791),u=r(4809),l=r(7027),c=r(3099),m=r(7309),h=r(4205),p=r(5796),f=r(1752),Z=r(2622),g=r(713),j=r(8185),x=r(4219),k=r(544),y=[{id:1,username:"admin",email:"admin123@gmail.com",address:"New York No. 1 Lake Park",age:21},{id:2,username:"JimGreen",email:"jimGreen564223@gmail.com",address:"London No. 1 Lake Park",age:30},{id:3,username:"JoeBlack",email:"joeBlack445887@gmail.com",address:"Sydney No. 1 Lake Park",age:27},{id:4,username:"josnTem",email:"josnTem445447@gmail.com",address:"Sydney No. 2 Lake Park",age:43},{id:5,username:"kynic",email:"kynic445887@gmail.com",address:"Sydney No. 3 Lake Park",age:54},{id:6,username:"herrdic",email:"jherrdic87@gmail.com",address:"Sydney No. 8 Lake Park",age:20},{id:7,username:"Jeim",email:"joeBlack47745887@gmail.com",address:"Sydney No. 1 Lake Park",age:60},{id:8,username:"Tim",email:"joeBlack44511887@gmail.com",address:"Sydney No. 5 Lake Park",age:21},{id:9,username:"Yiemli",email:"joeBlack44555887@gmail.com",address:"Sydney No. 77 Lake Park",age:47},{id:10,username:"Amy",email:"Amy6655887@gmail.com",address:"Sydney No. 177 Lake Park",age:32},{id:11,username:"joe",email:"joe55887@gmail.com",address:"Sydney No. 177 Lake Park",age:34}],v=function(e,a,r,n){return(0,k.W)({url:"/createUser",method:"post",data:{username:e,email:r,age:a,address:n}},4)},S=function(e,a,r,n,s){return(0,k.W)({url:"/updateUser",method:"post",data:{userId:e,username:a,age:r,address:s}},e)},w=r(184),I={wrapperCol:{offset:16,span:8}},P=function(e){var a=e.isShow,r=e.setIsShow,s=e.setGetDataCount,d=j.Z.useForm(),h=(0,o.Z)(d,1)[0],p=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var t,i,o,d,u,c,m,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.username,i=void 0===t?"":t,o=a.age,d=void 0===o?"":o,u=a.email,c=void 0===u?"":u,m=a.address,p=void 0===m?"":m,e.next=3,v(i,d,c,p).then((function(e){var a=e,r=a.code,n=a.msg;200===r&&l.ZP.success(n),console.log(e)}));case 3:h.resetFields(),r(!1),s((function(e){return e+1}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,w.jsx)(u.Z,{forceRender:!0,title:"\u65b0\u589e\u4f7f\u7528\u8005",open:a,onCancel:function(){r(!1)},footer:[],children:(0,w.jsxs)(j.Z,{name:"basic",form:h,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:p,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,w.jsx)(j.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,{label:"Age",name:"age",rules:[{required:!1}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,{label:"E-mail",name:"email",rules:[{required:!1}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,{label:"Address",name:"address",rules:[{required:!1}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,(0,t.Z)((0,t.Z)({},I),{},{children:(0,w.jsxs)(c.Z,{children:[(0,w.jsx)(m.ZP,{type:"default",htmlType:"reset",children:"Reset"}),(0,w.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Submit"})]})}))]})})},b={wrapperCol:{offset:16,span:8}},C=function(e){var a=e.userId,r=e.setTempId,s=e.isShow,h=e.setIsShow,p=e.setGetDataCount,f=j.Z.useForm(),Z=(0,o.Z)(f,1)[0];(0,d.useEffect)((function(){(function(e){return(0,k.W)({url:"/getUser",method:"post",data:{userId:e}},{id:1,username:"admin",email:"admin123@gmail.com",address:"New York No. 1 Lake Park",age:21})})(a).then((function(e){var a=e.data,r=a.username,n=a.age,s=a.email,t=a.address;Z.setFieldsValue({username:r,age:n,email:s,address:t})}))}),[a]);var g=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(s){var t,i,o,d,u,c,m;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.username,i=void 0===t?"":t,o=s.age,d=void 0===o?"":o,u=s.email,void 0===u?"":u,c=s.address,m=void 0===c?"":c,e.next=3,S(a,i,d,0,m).then((function(e){var a=e,r=a.code,n=a.msg;200===r&&l.ZP.success(n),console.log(e)}));case 3:Z.resetFields(),r(0),h(!1),p((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,w.jsx)(u.Z,{forceRender:!0,title:"\u65b0\u589e\u4f7f\u7528\u8005",open:s,onCancel:function(){h(!1)},footer:[],children:(0,w.jsxs)(j.Z,{name:"basic",form:Z,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:g,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,w.jsx)(j.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,{label:"Age",name:"age",rules:[{required:!1}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,{label:"E-mail",name:"email",rules:[{required:!1}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,{label:"Address",name:"address",rules:[{required:!1}],children:(0,w.jsx)(x.Z,{})}),(0,w.jsx)(j.Z.Item,(0,t.Z)((0,t.Z)({},b),{},{children:(0,w.jsxs)(c.Z,{children:[(0,w.jsx)(m.ZP,{type:"default",htmlType:"reset",children:"Reset"}),(0,w.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Submit"})]})}))]})})},N=u.Z.confirm,L=function(){var e=(0,d.useState)(1),a=(0,o.Z)(e,1)[0],r=(0,d.useState)(1),u=(0,o.Z)(r,2),j=u[0],x=u[1],v=(0,d.useState)([]),S=(0,o.Z)(v,2),I=S[0],b=S[1];(0,d.useEffect)((function(){(function(e,a){return(0,k.W)({url:"/getUserList",method:"post",data:{current:e,pageSize:a}},y)})(a,10).then(function(){var e=(0,i.Z)((0,n.Z)().mark((function e(a){var r,i,o,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(r=a).code,o=r.data,200===i&&(d=o.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{key:e.id})})),b((function(){return(0,s.Z)(d)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[j]);var L=(0,d.useState)(!1),F=(0,o.Z)(L,2),T=F[0],U=F[1],q=(0,d.useState)(!1),A=(0,o.Z)(q,2),W=A[0],G=A[1],B=(0,d.useState)(0),D=(0,o.Z)(B,2),E=D[0],R=D[1],_=function(e){var a=e.id,r=e.username;N({icon:(0,w.jsx)(p.Z,{}),content:(0,w.jsxs)("div",{children:["\u78ba\u5b9a\u522a\u9664 ",r]}),onOk:function(){(function(e){return(0,k.W)({url:"/deleteUser",method:"post",data:{userId:e}},!0)})(a).then((function(e){var a=e,r=a.code,n=a.msg;200===r&&l.ZP.success(n),console.log(e)}))},onCancel:function(){}})},z=[{title:"UserName",width:40,dataIndex:"username",key:"username"},{title:"Age",width:30,dataIndex:"age",key:"age"},{title:"E-mail",width:80,dataIndex:"email",key:"email"},{title:"Address",width:100,dataIndex:"address",key:"address"},{title:"Action",width:80,dataIndex:"action",key:"action",fixed:"right",render:function(e,a){return(0,w.jsxs)(c.Z,{size:"middle",children:[(0,w.jsx)(m.ZP,{type:"primary",icon:(0,w.jsx)(f.Z,{}),onClick:function(){return function(e){R(e.id),G(!0)}(a)},children:"Update"}),(0,w.jsx)(m.ZP,{type:"primary",danger:!0,icon:(0,w.jsx)(Z.Z,{}),onClick:function(){return _(a)},children:"Delete"})]})}}];return(0,w.jsxs)("div",{className:"user-container",children:[(0,w.jsx)("div",{className:"user-new",children:(0,w.jsx)(m.ZP,{type:"primary",icon:(0,w.jsx)(g.Z,{}),onClick:function(){U(!0)},children:"Create"})}),(0,w.jsx)(P,{isShow:T,setIsShow:U,setGetDataCount:x}),(0,w.jsx)(C,{userId:E,setTempId:R,isShow:W,setIsShow:G,setGetDataCount:x}),(0,w.jsx)(h.Z,{dataSource:I,className:"user-table",columns:z,scroll:{x:1e3},pagination:{pageSize:10}})]})}},544:function(e,a,r){r.d(a,{W:function(){return s}});var n=r(1912).Z.create({baseURL:"https://jsonplaceholder.typicode.com",timeout:2e3,headers:{"Content-Type":"application/json;charset=UTF-8"}});n.interceptors.request.use((function(e){return e.headers=e.headers||{},localStorage.getItem("token")&&(e.headers.token=localStorage.getItem("token")||""),e}),(function(e){return Promise.reject(e)})),n.interceptors.response.use((function(e){return 200!==e.status?Promise.reject(e.data):e}),(function(e){return Promise.reject(e)}));var s=function(e,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r?n(e):Promise.resolve({data:a,code:200,status:200,msg:"success"})}}}]);
//# sourceMappingURL=156.8bdef9a8.chunk.js.map