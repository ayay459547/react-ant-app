"use strict";(self.webpackChunkreact_ant_app=self.webpackChunkreact_ant_app||[]).push([[156],{3156:function(e,a,n){n.r(a),n.d(a,{default:function(){return L}});var r=n(4165),s=n(3433),t=n(1413),i=n(5861),d=n(9439),o=n(2791),l=n(4809),u=n(7027),c=n(3099),m=n(7309),f=n(8215),h=n(5796),p=n(1752),Z=n(2622),x=n(713),g=n(8185),j=n(4219),y=n(4236),k=[{id:1,username:"admin",email:"admin123@gmail.com",address:"New York No. 1 Lake Park",age:21},{id:2,username:"JimGreen",email:"jimGreen564223@gmail.com",address:"London No. 1 Lake Park",age:30},{id:3,username:"JoeBlack",email:"joeBlack445887@gmail.com",address:"Sydney No. 1 Lake Park",age:27},{id:4,username:"josnTem",email:"josnTem445447@gmail.com",address:"Sydney No. 2 Lake Park",age:43},{id:5,username:"kynic",email:"kynic445887@gmail.com",address:"Sydney No. 3 Lake Park",age:54},{id:6,username:"herrdic",email:"jherrdic87@gmail.com",address:"Sydney No. 8 Lake Park",age:20},{id:7,username:"Jeim",email:"joeBlack47745887@gmail.com",address:"Sydney No. 1 Lake Park",age:60},{id:8,username:"Tim",email:"joeBlack44511887@gmail.com",address:"Sydney No. 5 Lake Park",age:21},{id:9,username:"Yiemli",email:"joeBlack44555887@gmail.com",address:"Sydney No. 77 Lake Park",age:47},{id:10,username:"Amy",email:"Amy6655887@gmail.com",address:"Sydney No. 177 Lake Park",age:32},{id:11,username:"joe",email:"joe55887@gmail.com",address:"Sydney No. 177 Lake Park",age:34}],v=function(e,a,n,r){return(0,y.W)({url:"/createUser",method:"post",data:{username:e,email:n,age:a,address:r}},4)},w=function(e,a,n,r,s){return(0,y.W)({url:"/updateUser",method:"post",data:{userId:e,username:a,age:n,address:s}},e)},S=n(184),I={wrapperCol:{offset:16,span:8}},P=function(e){var a=e.isShow,n=e.setIsShow,s=e.setGetDataCount,o=g.Z.useForm(),f=(0,d.Z)(o,1)[0],h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var t,i,d,o,l,c,m,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.username,i=void 0===t?"":t,d=a.age,o=void 0===d?"":d,l=a.email,c=void 0===l?"":l,m=a.address,h=void 0===m?"":m,e.next=3,v(i,o,c,h).then((function(e){var a=e,n=a.code,r=a.msg;200===n&&u.ZP.success(r),console.log(e)}));case 3:f.resetFields(),n(!1),s((function(e){return e+1}));case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,S.jsx)(l.Z,{forceRender:!0,title:"\u65b0\u589e\u4f7f\u7528\u8005",open:a,onCancel:function(){n(!1)},footer:[],children:(0,S.jsxs)(g.Z,{name:"basic",form:f,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:h,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,S.jsx)(g.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,{label:"Age",name:"age",rules:[{required:!1}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,{label:"E-mail",name:"email",rules:[{required:!1}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,{label:"Address",name:"address",rules:[{required:!1}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,(0,t.Z)((0,t.Z)({},I),{},{children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(m.ZP,{type:"default",htmlType:"reset",children:"Reset"}),(0,S.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Submit"})]})}))]})})},b={wrapperCol:{offset:16,span:8}},C=function(e){var a=e.userId,n=e.setTempId,s=e.isShow,f=e.setIsShow,h=e.setGetDataCount,p=g.Z.useForm(),Z=(0,d.Z)(p,1)[0];(0,o.useEffect)((function(){(function(e){return(0,y.W)({url:"/getUser",method:"post",data:{userId:e}},{id:1,username:"admin",email:"admin123@gmail.com",address:"New York No. 1 Lake Park",age:21})})(a).then((function(e){var a=e.data,n=a.username,r=a.age,s=a.email,t=a.address;Z.setFieldsValue({username:n,age:r,email:s,address:t})}))}),[a]);var x=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(s){var t,i,d,o,l,c,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.username,i=void 0===t?"":t,d=s.age,o=void 0===d?"":d,l=s.email,void 0===l?"":l,c=s.address,m=void 0===c?"":c,e.next=3,w(a,i,o,0,m).then((function(e){var a=e,n=a.code,r=a.msg;200===n&&u.ZP.success(r),console.log(e)}));case 3:Z.resetFields(),n(0),f(!1),h((function(e){return e+1}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,S.jsx)(l.Z,{forceRender:!0,title:"\u65b0\u589e\u4f7f\u7528\u8005",open:s,onCancel:function(){f(!1)},footer:[],children:(0,S.jsxs)(g.Z,{name:"basic",form:Z,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:x,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[(0,S.jsx)(g.Z.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,{label:"Age",name:"age",rules:[{required:!1}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,{label:"E-mail",name:"email",rules:[{required:!1}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,{label:"Address",name:"address",rules:[{required:!1}],children:(0,S.jsx)(j.Z,{})}),(0,S.jsx)(g.Z.Item,(0,t.Z)((0,t.Z)({},b),{},{children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(m.ZP,{type:"default",htmlType:"reset",children:"Reset"}),(0,S.jsx)(m.ZP,{type:"primary",htmlType:"submit",children:"Submit"})]})}))]})})},N=l.Z.confirm,L=function(){var e=(0,o.useState)(1),a=(0,d.Z)(e,1)[0],n=(0,o.useState)(1),l=(0,d.Z)(n,2),g=l[0],j=l[1],v=(0,o.useState)([]),w=(0,d.Z)(v,2),I=w[0],b=w[1];(0,o.useEffect)((function(){(function(e,a){return(0,y.W)({url:"/getUserList",method:"post",data:{current:e,pageSize:a}},k)})(a,10).then(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var n,i,d,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(n=a).code,d=n.data,200===i&&(o=d.map((function(e){return(0,t.Z)((0,t.Z)({},e),{},{key:e.id})})),b((function(){return(0,s.Z)(o)})));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[g]);var L=(0,o.useState)(!1),F=(0,d.Z)(L,2),A=F[0],T=F[1],U=(0,o.useState)(!1),q=(0,d.Z)(U,2),W=q[0],G=q[1],B=(0,o.useState)(0),D=(0,d.Z)(B,2),E=D[0],R=D[1],_=function(e){var a=e.id,n=e.username;N({icon:(0,S.jsx)(h.Z,{}),content:(0,S.jsxs)("div",{children:["\u78ba\u5b9a\u522a\u9664 ",n]}),onOk:function(){(function(e){return(0,y.W)({url:"/deleteUser",method:"post",data:{userId:e}},!0)})(a).then((function(e){var a=e,n=a.code,r=a.msg;200===n&&u.ZP.success(r),console.log(e)}))},onCancel:function(){}})},z=[{title:"UserName",width:40,dataIndex:"username",key:"username"},{title:"Age",width:30,dataIndex:"age",key:"age"},{title:"E-mail",width:80,dataIndex:"email",key:"email"},{title:"Address",width:100,dataIndex:"address",key:"address"},{title:"Action",width:80,dataIndex:"action",key:"action",fixed:"right",render:function(e,a){return(0,S.jsxs)(c.Z,{size:"middle",children:[(0,S.jsx)(m.ZP,{type:"primary",icon:(0,S.jsx)(p.Z,{}),onClick:function(){return function(e){R(e.id),G(!0)}(a)},children:"Update"}),(0,S.jsx)(m.ZP,{type:"primary",danger:!0,icon:(0,S.jsx)(Z.Z,{}),onClick:function(){return _(a)},children:"Delete"})]})}}];return(0,S.jsxs)("div",{className:"user-container",children:[(0,S.jsx)("div",{className:"user-new",children:(0,S.jsx)(m.ZP,{type:"primary",icon:(0,S.jsx)(x.Z,{}),onClick:function(){T(!0)},children:"Create"})}),(0,S.jsx)(P,{isShow:A,setIsShow:T,setGetDataCount:j}),(0,S.jsx)(C,{userId:E,setTempId:R,isShow:W,setIsShow:G,setGetDataCount:j}),(0,S.jsx)(f.Z,{dataSource:I,className:"user-table",columns:z,scroll:{x:1e3},pagination:{pageSize:10}})]})}}}]);
//# sourceMappingURL=156.3673afa0.chunk.js.map