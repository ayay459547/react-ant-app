"use strict";(self.webpackChunkreact_ant_app=self.webpackChunkreact_ant_app||[]).push([[208],{1244:function(t,e,n){n.d(e,{db:function(){return u}});var i=n(1413),o=n(3144),s=n(5671),r=n(136),c=n(7277),a=n(1447),d={todoList:"++id, context, isCompleted"},l={chatList:"++id, title",chatItem:"++id, chatListId, from, text"},u=new(function(t){(0,r.Z)(n,t);var e=(0,c.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.call(this,"AppDB")).todoList=void 0,t.chatList=void 0,t.chatItem=void 0,t.version(2).stores((0,i.Z)((0,i.Z)({},d),l)),t}return(0,o.Z)(n)}(a.default))},7208:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var i=n(1413),o=n(9439),s=n(2791),r=n(3860),c=n(3099),a=n(4219),d=n(7309),l=n(5529),u=n(4664),p=n(9286),f=n(7472),x=n(1752),m=n(3605),Z=n(7575),h=n(2622),v=n(1244),j=n(3327),y=n(184),C=function(){var t=(0,s.useState)(!1),e=(0,o.Z)(t,2),n=e[0],C=e[1],b=(0,j.useLiveQuery)((function(){return v.db.todoList.toArray()})),g=(0,s.useState)(""),L=(0,o.Z)(g,2),k=L[0],A=L[1],N=(0,s.useState)("All"),w=(0,o.Z)(N,2),E=w[0],z=w[1],P=(0,r.XR)([]),S=P.list,_=P.setList,I=P.add,M=P.remove,R=P.change;(0,s.useEffect)((function(){"object"!==typeof b||n||(_(b),C(!0))}),[b,n]);var W=(0,s.useMemo)((function(){return S.filter((function(t){return!t.isCompleted}))}),[S]),B=(0,s.useMemo)((function(){return S.filter((function(t){return t.isCompleted}))}),[S]),D=(0,s.useMemo)((function(){switch(E){case"Active":return W;case"Completed":return B;default:return S}}),[S,E]),G=function(){var t={isCompleted:!1,context:k};v.db.todoList.add(t).then((function(e){I((0,i.Z)((0,i.Z)({},t),{},{id:e}))})),A("")};return(0,y.jsxs)("div",{className:"todo-container",children:[(0,y.jsxs)(c.Z,{className:"todo-input",children:[(0,y.jsx)(a.Z,{value:k,size:"large",style:{minWidth:"150px"},onChange:function(t){A(t.target.value)},onKeyUp:function(t){"Enter"===t.key&&G()}}),(0,y.jsx)(d.ZP,{type:"primary",shape:"circle",icon:(0,y.jsx)(p.Z,{}),onClick:G})]}),(0,y.jsx)(c.Z,{className:"todo-filter",children:["Active","Completed","All"].map((function(t){var e=E===t?"primary":"default";return(0,y.jsx)(d.ZP,{shape:"round",type:e,onClick:function(){z(t)},children:t},t)}))}),(0,y.jsx)("div",{className:"todo-list",children:D.length>0?D.map((function(t,e){var n=t.id,o=t.context,s=t.isCompleted,r=t.isEdit;return(0,y.jsx)(l.Z,{children:(0,y.jsxs)(l.Z.Grid,{style:{minWidth:"250px",background:s?"#cde9cd":""},children:[(0,y.jsx)("div",{style:{height:"60px"},children:r?(0,y.jsx)(a.Z.TextArea,{value:o,onChange:function(t){return function(t,e){var n=S[t];R((0,i.Z)((0,i.Z)({},n),{},{context:e}),t)}(e,t.target.value)},autoSize:{minRows:2,maxRows:2}}):(0,y.jsx)("div",{className:"card-text",children:o})}),(0,y.jsxs)(c.Z,{className:"card-btn",children:[(0,y.jsx)(d.ZP,{type:"text",shape:"circle",size:"large",icon:r?(0,y.jsx)(f.Z,{style:{color:"#000000e0"}}):(0,y.jsx)(x.Z,{style:{color:"#000000e0"}}),onClick:function(){return function(t,e){var n=S[t];n.isEdit&&"number"===typeof e&&v.db.todoList.update(e,{context:n.context}),R((0,i.Z)((0,i.Z)({},n),{},{isEdit:!n.isEdit}),t)}(e,n)}}),(0,y.jsx)(d.ZP,{type:"text",shape:"circle",size:"large",icon:s?(0,y.jsx)(m.Z,{style:{color:"#faad14"}}):(0,y.jsx)(Z.Z,{style:{color:"#52c41a"}}),onClick:function(){return function(t,e){var n=S[t];R((0,i.Z)((0,i.Z)({},n),{},{isCompleted:!n.isCompleted}),t),"number"===typeof e&&v.db.todoList.update(e,{isCompleted:!n.isCompleted})}(e,n)}}),(0,y.jsx)(d.ZP,{type:"text",shape:"circle",size:"large",icon:(0,y.jsx)(h.Z,{style:{color:"#f56c6c"}}),onClick:function(){return t=e,"number"===typeof(i=n)&&v.db.todoList.delete(i),void M(t);var t,i}})]})]})},n)})):(0,y.jsx)(u.Z,{description:!1,className:"todo-empty"})})]})}}}]);
//# sourceMappingURL=208.047628e5.chunk.js.map