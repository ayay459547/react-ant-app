"use strict";(self.webpackChunkreact_ant_app=self.webpackChunkreact_ant_app||[]).push([[786],{1786:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var i=n(1413),o=n(9439),s=n(2791),r=n(3860),c=n(3099),a=n(4219),l=n(7309),u=n(5529),d=n(4664),p=n(9286),f=n(7472),x=n(1752),Z=n(3605),m=n(7575),h=n(2622),v=n(3144),j=n(5671),y=n(136),C=n(7277),g=n(1447),k={todoList:"++id, context, isCompleted"},L=new(function(e){(0,y.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;return(0,j.Z)(this,n),(e=t.call(this,"AppDB")).todoList=void 0,e.version(1).stores((0,i.Z)({},k)),e}return(0,v.Z)(n)}(g.default)),b=n(3327),A=n(184),N=function(){var e=(0,s.useState)(!1),t=(0,o.Z)(e,2),n=t[0],v=t[1],j=(0,b.useLiveQuery)((function(){return L.todoList.toArray()})),y=(0,s.useState)(""),C=(0,o.Z)(y,2),g=C[0],k=C[1],N=(0,s.useState)("All"),w=(0,o.Z)(N,2),E=w[0],z=w[1],P=(0,r.XR)([]),S=P.list,_=P.setList,M=P.add,R=P.remove,W=P.change;(0,s.useEffect)((function(){"object"!==typeof j||n||(_(j),v(!0))}),[j,n]);var B=(0,s.useMemo)((function(){return S.filter((function(e){return!e.isCompleted}))}),[S]),D=(0,s.useMemo)((function(){return S.filter((function(e){return e.isCompleted}))}),[S]),G=(0,s.useMemo)((function(){switch(E){case"Active":return B;case"Completed":return D;default:return S}}),[S,E]),K=function(){var e={isCompleted:!1,context:g};L.todoList.add(e).then((function(t){M((0,i.Z)((0,i.Z)({},e),{},{id:t}))})),k("")};return(0,A.jsxs)("div",{className:"todo-container",children:[(0,A.jsxs)(c.Z,{className:"todo-input",children:[(0,A.jsx)(a.Z,{value:g,size:"large",style:{minWidth:"150px"},onChange:function(e){k(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&K()}}),(0,A.jsx)(l.ZP,{type:"primary",shape:"circle",icon:(0,A.jsx)(p.Z,{}),onClick:K})]}),(0,A.jsx)(c.Z,{className:"todo-filter",children:["Active","Completed","All"].map((function(e){var t=E===e?"primary":"default";return(0,A.jsx)(l.ZP,{shape:"round",type:t,onClick:function(){z(e)},children:e},e)}))}),(0,A.jsx)("div",{className:"todo-list",children:G.length>0?G.map((function(e,t){var n=e.id,o=e.context,s=e.isCompleted,r=e.isEdit;return(0,A.jsx)(u.Z,{children:(0,A.jsxs)(u.Z.Grid,{style:{minWidth:"250px",background:s?"#cde9cd":""},children:[(0,A.jsx)("div",{style:{height:"60px"},children:r?(0,A.jsx)(a.Z.TextArea,{value:o,onChange:function(e){return function(e,t){var n=S[e];W((0,i.Z)((0,i.Z)({},n),{},{context:t}),e)}(t,e.target.value)},autoSize:{minRows:2,maxRows:2}}):(0,A.jsx)("div",{className:"card-text",children:o})}),(0,A.jsxs)(c.Z,{className:"card-btn",children:[(0,A.jsx)(l.ZP,{type:"text",shape:"circle",size:"large",icon:r?(0,A.jsx)(f.Z,{style:{color:"#000000e0"}}):(0,A.jsx)(x.Z,{style:{color:"#000000e0"}}),onClick:function(){return function(e,t){var n=S[e];n.isEdit&&"number"===typeof t&&L.todoList.update(t,{context:n.context}),W((0,i.Z)((0,i.Z)({},n),{},{isEdit:!n.isEdit}),e)}(t,n)}}),(0,A.jsx)(l.ZP,{type:"text",shape:"circle",size:"large",icon:s?(0,A.jsx)(Z.Z,{style:{color:"#faad14"}}):(0,A.jsx)(m.Z,{style:{color:"#52c41a"}}),onClick:function(){return function(e,t){var n=S[e];W((0,i.Z)((0,i.Z)({},n),{},{isCompleted:!n.isCompleted}),e),"number"===typeof t&&L.todoList.update(t,{isCompleted:!n.isCompleted})}(t,n)}}),(0,A.jsx)(l.ZP,{type:"text",shape:"circle",size:"large",icon:(0,A.jsx)(h.Z,{style:{color:"#f56c6c"}}),onClick:function(){return e=t,"number"===typeof(i=n)&&L.todoList.delete(i),void R(e);var e,i}})]})]})},n)})):(0,A.jsx)(d.Z,{description:!1,className:"todo-empty"})})]})}}}]);
//# sourceMappingURL=786.822a1d56.chunk.js.map